<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xsyx.dao.WarehouseDao">




    <!-- resultMap映射 -->
    <resultMap id="WarehouseMap" type="Warehouse">
        <id column="warid" property="warid"/>
        <result column="warname" property="warname"/>
        <result column="wartype" property="wartype"/>
        <result column="warcapacity" property="warcapacity"/>
        <result column="waraddress" property="waraddress"/>
        <result column="longitude" property="longitude"/>
        <result column="latitude" property="latitude"/>
        <result column="warstate" property="warstate"/>
    </resultMap>

    <!--条件查询 显示所有的仓库信息 -->
    <select id="queryWarehouseAll" parameterType="String" resultMap="WarehouseMap">
        SELECT * FROM warehouse
        <where>
            <if test="warname!=null"> and warname like  concat('%',#{warname},'%')</if>
        </where>
    </select>

    <!--根据条件查询仓库总数量-->
    <select id="querycountWarehousebyCond" parameterType="String" resultType="int">
        SELECT count(*) FROM warehouse
        <where>
            <if test="warname!=null"> and warname like  concat('%',#{warname},'%')</if>
        </where>
    </select>

</mapper>
